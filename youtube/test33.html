
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>THREE.CSS3DRenderer</title>
        <style>
            body {
                font-family: Monospace;
                background-color: #f0f0f0;
                margin: 0px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
<div id="player"></div>

<script src="js/three-css3d.min.js"></script>
<!--<script src="js/three.min.js"></script>
<script src="js/CSS3DRenderer.js"></script>
<script src="js/OrbitControls.js"></script>-->
<script src="js/youtubeapi.js"></script>
<script>

var size = {w:640, h:390};

var videoIdList = ["gdt_r9O6n9o", "xSRmhiMS78Y", "b6Svvc8W_Qs", "A04la9SBjcs", "wUd8XvvY1vM", "osw9PDdsMZQ", "-nWueMyuILk"];
var index = 0;
//var player = null;
var options ={
    host: 'http://www.youtube.com',
    width: size.w,
    height: size.h,
    videoId: videoIdList[0],
    playerVars: {
        cc_load_policy: 0,
        autoplay: 1,
        controls: 0,
        html5: 1,
        modestbranding:1,
        showinfo:0,
        rel:0,
        origin: document.domain
    },
    events: {
        onReady: onPlayerReady,
        onStateChange: onPlayerStateChange
    }
};
function onPlayerReady(event) {
    event.target.playVideo();

    
    //console.log(event.target.getIframe().contentWindow.postMessage() )
    //console.log(event.target.getIframe().getElementsByClassName("video-stream html5-main-video"));


    //init(event.target.getIframe());
    //console.log(event.target.getIframe().contentWindow.getElementsByClassName("video-stream html5-main-video") )
    //console.log('video:', event.target.getIframe().getElementsByClassName("video-stream html5-main-video")[0]);

   // console.log(event.target.getIframe().contentWindow.getElementsByClassName("video-stream html5-main-video") )
    //console.log('yoooo', event.target.getVideoEmbedCode());

    /*var embedCode = event.target.getVideoEmbedCode();https://s.ytimg.com/yts/jsbin/html5player-fr_FR-vfloHxRkc/html5player.js
    if (document.getElementById('embed-code')) {
        document.getElementById('embed-code').innerHTML = embedCode;

        console.log('yoooo', event.target.getVideoEmbedCode());
    }*/
}

function onPlayerStateChange(event) {
    
    if(event.data == YT.PlayerState.ENDED) {
        index = index + 1;
        if (index < videoIdList.length) {
            player.loadVideoById(videoIdList[index]);
        }    
    }          
}

var player = new YT.Player( 'player', options );

var camera, scene, renderer;
var controls;

            
init();     

 function init() {

    camera = new THREE.PerspectiveCamera( 75, size.w / size.h, 1, 1000 );
    camera.position.set( 60, 0, 200 );
    camera.lookAt(new THREE.Vector3())

    scene = new THREE.Scene();

    var element = player.getIframe();
    var object = new THREE.CSS3DObject( element );
    object.scale.x = 0.5;
    object.scale.y = 0.5;
    scene.add( object );

    renderer = new THREE.CSS3DRenderer();
    renderer.setSize( size.w, size.h );
    renderer.domElement.style.position = 'absolute';
    renderer.domElement.style.top = 0;
    renderer.domElement.style.border = '1px solid #F00';
    document.body.appendChild( renderer.domElement );

    animate();

}

function animate() {
    requestAnimationFrame( animate );
    renderer.render( scene, camera );
}

</script>
</body>
</html>
