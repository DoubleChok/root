<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="en">
<head>
<title>menu</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=11" />
<meta http-equiv="Pragma" content="no-cache">
<link rel="stylesheet" href="css/style.css">

<script src="js/libs/three.min.js"></script>
<script src="js/libs/sea3d.min.js"></script>
<script src="js/libs/tween.min.js"></script>
<script src="js/controls/OrbitControls.js"></script>
<script src="js/renderers/CSS3DRenderer.js"></script>
<script src="js/pool.js"></script>
<script src="js/indexScreen.js"></script>

</head>
<body>
<script type="text/javascript">
    indexScreen.init();

    //pool.load(['assets/models/earth_m.sea', 'assets/textures/earth.png', 'assets/textures/earth_n.png'], gogo );

    pool.load(['assets/textures/env.png', 'assets/textures/earth_metal.png', 'assets/textures/earth_rough.png', 'assets/textures/earth_n2.png'], gogo );


    function gogo ( p ) {

        //var light = new THREE.DirectionalLight(0xffffff, 1);
        //light.position.set(5,3,5);
        //indexScreen.add(light);
        var env = new THREE.Texture( p.env );
        env.mapping = THREE.SphericalReflectionMapping;
        env.needsUpdate = true;

        var norm = new THREE.Texture( p.earth_n2 );
        norm.needsUpdate = true;

        var metal = new THREE.Texture( p.earth_metal );
        metal.needsUpdate = true;

        var rough = new THREE.Texture( p.earth_rough );
        rough.needsUpdate = true;

        var sphere = createSphere( 1, 64, env, metal, rough, norm );
        //indexScreen.add(sphere);

        //sphere.position.y = -1;

        indexScreen.setCenter( sphere );

    }

    function createSphere( radius, segments, env, metal, rough, norm ) {
        return new THREE.Mesh(
            new THREE.SphereGeometry(radius, segments, segments),
            //new THREE.MeshPhongMaterial({
            new THREE.MeshStandardMaterial({
                color:0xFFFFFF,
                envMap:env,
                metalnessMap:metal,
                roughnessMap:rough,
                metalness:1,
                roughness:1,
                //map:         map,
                //aoMap:     bump,
                //aoMapIntensity: 1,
               // bumpScale:   0.005,
                //emissiveMap: spec,
                //specular:    new THREE.Color('grey'),

                normalScale:new THREE.Vector2( 2, -2 ),
                normalMap:norm,

                //alphaMap:mask,
                //transparent: trans,
                //depthWrite:false

            })
        );
    }

</script>
</body>
</html>